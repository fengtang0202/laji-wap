<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!-- 解决https -->
    <!-- <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" /> -->
    <meta name="viewport" content="width = device-width, initial-scale = 1.0, maximum-scale = 1.0,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--针对ios-->
    <meta content="yes" name="apple-mobile-web-app-capable">
    <!--添加主屏后再次打开是否全屏-->
    <meta name="apple-touch-fullscreen" content="yes">
    <!--禁止百度转码-->
    <meta name="x5-fullscreen" content="true">
    <!--QQ强制竖屏-->
    <meta name="x5-orientation" content="portrait">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <meta name="Cache-Control" content="no-siteapp">
    <!--ios顶部颜色-->
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <!--禁用数字识别电话-->
    <meta content="telephone=no" name="format-detection">
    <!--添加主屏后显示标题文字-->
    <meta name="apple-mobile-web-app-title" content='辣鸡小说'>
    <title>辣鸡小说</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
	<script>
        // window.onload = function () {
        //     var oHtml = document.getElementsByTagName("html")[0];
        //     var screenW = document.documentElement.offsetWidth || document.body.offsetWidth;
        //     oHtml.style.fontSize = 100 * screenW / 375 + "px";
        // }
        (function(designWidth, maxWidth) {
	var doc = document,
	win = window,
	docEl = doc.documentElement,
	remStyle = document.createElement("style"),
	tid;

	function refreshRem() {
		var width = docEl.getBoundingClientRect().width;
		maxWidth = maxWidth || 540;
		width>maxWidth && (width=maxWidth);
		var rem = width * 100 / designWidth;
		remStyle.innerHTML = 'html{font-size:' + rem + 'px;}';
	}

	if (docEl.firstElementChild) {
		docEl.firstElementChild.appendChild(remStyle);
	} else {
		var wrap = doc.createElement("div");
		wrap.appendChild(remStyle);
		doc.write(wrap.innerHTML);
		wrap = null;
	}
	//要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；
    refreshRem();
    
	win.addEventListener("resize", function() {
		clearTimeout(tid); //防止执行两次
		tid = setTimeout(refreshRem, 300);
	}, false);

	win.addEventListener("pageshow", function(e) {
		if (e.persisted) { // 浏览器后退的时候重新计算
			clearTimeout(tid);
			tid = setTimeout(refreshRem, 300);
		}
	}, false);

	if (doc.readyState === "complete") {
		doc.body.style.fontSize = "16px";
	} else {
		doc.addEventListener("DOMContentLoaded", function(e) {
			doc.body.style.fontSize = "16px";
		}, false);
	}
})(375, 750);
	</script>
	<script type="text/javascript" src="//res.cdn.openinstall.io/openinstall.js"></script>
	<script type="text/javascript">
		//openinstall初始化时将与openinstall服务器交互，应尽可能早的调用
		/*web页面向app传递的json数据(json string/js Object)，应用被拉起或是首次安装时，通过相应的android/ios api可以获取此数据*/
		var data = OpenInstall.parseUrlParams();//openinstall.js中提供的工具函数，解析url中的所有查询参数
		new OpenInstall({
			/*appKey必选参数，openinstall平台为每个应用分配的ID*/
           appKey: "bkk8ix",
			/*可选参数，自定义android平台的apk下载文件名，只有apk在openinstall托管时才有效；个别andriod浏览器下载时，中文文件名显示乱码，请慎用中文文件名！*/
			//apkFileName : 'com.fm.openinstalldemo-v2.2.0.apk',
			/*可选参数，是否优先考虑拉起app，以牺牲下载体验为代价*/
			//preferWakeup:true,
			/*自定义遮罩的html*/
			//mask:function(){
			//  return "<div id='openinstall_shadow' style='position:fixed;left:0;top:0;background:rgba(0,255,0,0.5);filter:alpha(opacity=50);width:100%;height:100%;z-index:10000;'></div>"
			//},
			/*openinstall初始化完成的回调函数，可选*/
			// onready: function () {
				// var m = this,
				// button = document.getElementById("downloadButton");
				// button.style.visibility = "visible";

				// /*在app已安装的情况尝试拉起app*/
				// m.schemeWakeup();
				// /*用户点击某个按钮时(假定按钮id为downloadButton)，安装app*/
				// button.onclick = function () {
				// 	m.wakeupOrInstall();
				// 	return false;
				// }
			// }
		}, data);
</script>
</head>
<body>
<div id="app"></div>
<!-- built files will be auto injected -->
</body>
</html>
